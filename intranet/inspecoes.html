<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/intranetcss.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <link rel="icon" href="../logo/logoazul.png">
    <title>Intranet</title>
</head>

<body>
    <div class="conteiner">
        <div class="row">

            <div class="col-lg-2" id="navbar">
                <img class="logo" src="../logo/logobranca.png" alt="logo">

                <div class="mobile-menu">
                    <div class="line1"></div>
                    <div class="line2"></div>
                    <div class="line3"></div>
                </div>

                <ul class="nav-list">
                    <li><a href="indexIntranet.html">Inicio</a></li>
                    <li><a href="inspecoes.html">Inspeções</a></li>
                    <li><a href="clientes.html">Clientes</a></li>
                    <li><a href="inspetores.html">Inspetores</a></li>
                    <li><a href="tarefas.html">Tarefas</a></li>
                </ul>
                <a class="admin" href="../index.html">Administrador</a>
            </div>


            <div class="col-lg-10" id="intranet">
                <div class="row" id="topo">
                    <div class="col-3" id="cadastro">
                        <button type="submit" id="cadastrar"
                            onclick="window.location.href='CRUDinspecoes.html';">CADASTRAR INSPEÇÕES</button>

                    </div>
                    <div class="col-9" id="barra_de_pesquisa">
                        <input id="pesquisar" type="text" maxlength="100" placeholder="Pesquisar" />
                        <button type="submit" id="pesquisa">PESQUISAR</button>

                    </div>
                </div>

                <div class="row" id="centro">
                    <div class="col-lg" id="coluna">
                        <div class="row" id="titulo_coluna">
                            <h5>INSPEÇÕES PENDENTES</h5>
                        </div>
                        <div class="row" id="pendentes"></div>
                    </div>

                    <div class="col-lg" id="coluna">
                        <div class="row" id="titulo_coluna">
                            <h5>INSPEÇÕES FINALIZADAS</h5>
                        </div>
                        <div class="row" id="finalizadas"></div>
                    </div>

                    <div class="col-lg" id="coluna">
                        <div class="row" id="titulo_coluna">
                            <h5>CERTIFICADOS</h5>
                        </div>
                        <div class="row" id="certificados"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

<script>
    async function getInspecoes() {
        try {
            const inspecoes =  await fetch ('http://localhost:7777/inspecoes')
            
            const data = await response.json()
            console.log(data)
            // Show Inspecoes 
            let completedOutput =  ''
            let notCompleteOutput = ''   
            for (let inspecao of data){
                if (inpecao.completed) {
                    completedOutput +=  `<li><p> Titulo: ${inspecao.title} </p> <br> <p> Cliente ID: ${inspecao.userId} </p> </li>`
                }else {
                    notCompleteOutput +=  `<li><p> Titulo: ${inspecao.title} </p> <br> <p> Cliente ID: ${inspecao.userId} </p> </li>`
                }
            }
            documento.querySelector('#pendentes').innerHTML  = notCompleteOutput
            documento.querySelector('#finalizadas').innerHTML  = completedOutput



        }catch (error) {

        }

    }

    getInspecoes()

</script>






<footer>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/navBar.js"></script>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script src="../js/main.js"></script>
    <script>
        window.onload = function() {
            loadItemsTable();
        };

    </script>
</footer>

</html>